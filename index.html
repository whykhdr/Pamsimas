<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PAMSIMAS KUAMANG JAYA</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
      font-family: 'Poppins', Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: linear-gradient(135deg, #4A90E2, #50E3C2);
      overflow-x: hidden;
      padding: 15px 10px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      background: #fff;
      padding: 30px 25px;
      border-radius: 20px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 350px;
      text-align: center;
      transition: none;
      will-change: auto;
      margin-bottom: 40px;
    }

    .logo {
      width: 110px;
      margin-bottom: 12px;
      transition: none;
      transform: none;
      user-select: none;
    }

    h2 {
      font-weight: 600;
      font-size: 2.2em;
      color: #222;
      margin-top: 0;
      margin-bottom: 20px;
      letter-spacing: 1.1px;
      text-shadow: 1px 1px 2px rgba(74, 144, 226, 0.15);
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      min-height: 60px;
    }

    .form-group {
      margin-bottom: 35px;
      text-align: left;
    }

    label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 1.1em;
      color: #444;
      user-select: none;
    }

    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 12px 14px;
      font-size: 1em;
      border: 1.8px solid #ccc;
      border-radius: 10px;
      box-sizing: border-box;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-weight: 400;
      color: #333;
      background-color: #fafafa;
      box-shadow: inset 1.5px 1.5px 4px #e8e8e8,
        inset -1.5px -1.5px 4px #ffffff;
    }

    input[type="text"]::placeholder,
    input[type="password"]::placeholder {
      color: #999;
      font-style: italic;
    }

    input[type="text"]:focus,
    input[type="password"]:focus {
      border-color: #4A90E2;
      outline: none;
      background-color: #fff;
      box-shadow: 0 0 6px rgba(74, 144, 226, 0.5),
        inset 1.5px 1.5px 6px #d6e4ff;
    }

    button {
      width: 100%;
      padding: 14px 0;
      font-size: 1.1em;
      font-weight: 600;
      color: white;
      background: linear-gradient(45deg, #43cea2, #185a9d);
      border: none;
      border-radius: 18px;
      cursor: pointer;
      box-shadow: 0 5px 12px rgba(67, 206, 162, 0.5);
      transition: background 0.3s ease;
      user-select: none;
      margin-top: 18px;
    }

    button:hover {
      background: linear-gradient(45deg, #185a9d, #43cea2);
    }

    button:active {
      box-shadow: 0 3px 6px rgba(24, 90, 157, 0.4);
    }

    .error-message {
      color: #e74c3c;
      margin-top: 10px;
      font-size: 0.9em;
      font-weight: 600;
      letter-spacing: 0.4px;
    }

    .hidden {
      display: none;
    }

    .show {
      display: block;
    }

    .coming-soon {
      margin-top: 22px;
      font-size: 1.1em;
      color: #666;
      font-style: italic;
      letter-spacing: 0.7px;
      user-select: none;
    }

    /* Adjust logo image in header */
    h2 img {
      max-height: 50px;
      max-width: 160px;
      object-fit: contain;
      user-select: none;
    }

    /* Responsif untuk layar kecil */
    @media (max-width: 350px) and (max-height: 600px) {
      body {
        padding: 8px;
      }

      .container {
        padding: 25px 15px;
        max-width: 100%;
        margin-bottom: 30px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        border-radius: 15px;
      }

      .logo {
        width: 90px;
        margin-bottom: 8px;
      }

      h2 {
        font-size: 1.8rem;
        margin-bottom: 18px;
        letter-spacing: 1px;
        min-height: 48px;
      }

      .form-group {
        margin-bottom: 28px;
      }

      label {
        font-size: 0.95em;
        margin-bottom: 6px;
      }

      input[type="text"],
      input[type="password"] {
        font-size: 0.95em;
        padding: 10px 12px;
        border-radius: 8px;
      }

      button {
        font-size: 1em;
        padding: 12px 0;
        border-radius: 14px;
        margin-top: 14px;
        box-shadow: none;
      }

      button:hover,
      button:active {
        transform: none;
        box-shadow: none;
        background: linear-gradient(45deg, #43cea2, #185a9d);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="logo.png" alt="Logo PAMSIMAS KUAMANG JAYA" class="logo" />
    <h2>PAMSIMAS KUAMANG JAYA</h2>

    <div id="loginForm">
      <p class="login-description">Silakan masukkan username dan password Anda.</p>
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required />
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required />
      </div>
      <button type="button" onclick="login()">Login</button>
      <p id="error" class="error-message hidden">Username atau password salah.</p>
    </div>

    <div id="menuContainer" class="hidden">
      <div id="adminUnitOptions" class="hidden">
        <h3>Pilih Unit</h3>
        <button class="admin-unit-button" onclick="showAdminOptions('tirtakusuma')">
          Tirta Kusuma
        </button>
        <button class="admin-unit-button" onclick="showAdminOptions('tirtajaya')">
          Tirta Jaya
        </button>
        <button class="admin-unit-button" onclick="showAdminOptions('margotirto')">
          Margo Tirto
        </button>
        <button class="logout-button" onclick="logout()">Log Out</button>
      </div>

      <div id="adminOptions" class="hidden">
        <h3>Pilihan Admin</h3>
        <button class="menu-button" onclick="goToPengecekan()">Input Data Penggunaan</button>
        <button class="menu-button" onclick="showComingSoon('standAwal')">Lihat Stand Awal</button>
        <button class="menu-button" onclick="showComingSoon('srBaru')">Penambahan SR Baru</button>
        <button class="kembali-button" onclick="showAdminUnitOptions()">Kembali</button>
      </div>

      <div id="userOptions" class="hidden">
        <h3>Pilihan</h3>
        <button class="menu-button" onclick="goToPengecekan()">Input Data Penggunaan</button>
        <button class="menu-button" onclick="showComingSoon('standAwal')">Lihat Stand Awal</button>
        <button class="menu-button" onclick="showComingSoon('srBaru')">Penambahan SR Baru</button>
        <button class="logout-button" onclick="logout()">Log Out</button>
      </div>
    </div>

    <div id="comingSoonContainer" class="coming-soon hidden">
      <p id="comingSoonText"></p>
      <button class="kembali-button" onclick="hideComingSoon()">Kembali</button>
    </div>
  </div>

  <script>
    const users = {
      'tirtakusuma': { password: 'suciani', pengecekanLink: 'https://docs.google.com/forms/d/e/1FAIpQLSeNhpNqjhvrYxOOOyQzr2BzGIZC8zc6duN3nT2yVm3nF5xpuA/closedform', nama: 'Tirta Kusuma', logo: 'Logo/tirtakusuma.png' },
      'tirtajaya': { password: 'suparno', pengecekanLink: 'https://docs.google.com/forms/d/e/1FAIpQLSefK0cNmlpwbP2Eu-5JkbuJAdxplR0SUzSx8MqWZk2Yl5XysQ/viewform', nama: 'Tirta Jaya', logo: 'Logo/tirtajaya.png' },
      'margotirto': { password: 'giono', pengecekanLink: 'https://docs.google.com/forms/d/e/1FAIpQLSc2kZjZ2dfdy8dVOy3bEEu6260B5P6FZ4RPJfqQEXpGwq8wqQ/viewform', nama: 'Margo Tirto', logo: 'Logo/margotirto.png' },
      'admin': { password: 'khodari22', nama: 'Admin' }
    };

    const loginForm = document.getElementById('loginForm');
    const menuContainer = document.getElementById('menuContainer');
    const errorElement = document.getElementById('error');
    const comingSoonContainer = document.getElementById('comingSoonContainer');
    const comingSoonTextElement = document.getElementById('comingSoonText');
    const adminUnitOptionsDiv = document.getElementById('adminUnitOptions');
    const adminOptionsDiv = document.getElementById('adminOptions');
    const userOptionsDiv = document.getElementById('userOptions');
    const logoTextElement = document.querySelector('.container h2');

    // Elemen gambar logo untuk menggantikan teks nama unit
    const logoImageElement = document.createElement('img');
    logoImageElement.style.maxWidth = '160px';
    logoImageElement.style.maxHeight = '60px';
    logoImageElement.style.marginBottom = '20px';
    logoImageElement.style.userSelect = 'none';

    function updateLogo(user) {
      logoTextElement.textContent = '';
      logoTextElement.style.display = 'flex';
      logoTextElement.style.justifyContent = 'center';
      logoTextElement.style.alignItems = 'center';
      logoTextElement.style.gap = '10px';

      if (user === 'admin') {
        logoImageElement.remove();
        logoTextElement.textContent = 'Pilih Unit';
      } else if (user && users[user] && users[user].logo) {
        logoImageElement.src = users[user].logo;
        logoImageElement.alt = users[user].nama;
        if (!logoTextElement.contains(logoImageElement)) {
          logoTextElement.appendChild(logoImageElement);
        }
      } else {
        logoImageElement.remove();
        logoTextElement.textContent = 'PAMSIMAS KUAMANG JAYA';
      }
    }

    let loggedInUsername = localStorage.getItem('loggedInUsername');
    let selectedUnit = localStorage.getItem('selectedUnit');

    if (loggedInUsername) {
      loginForm.classList.add('hidden');
      menuContainer.classList.add('show');
      if (loggedInUsername === 'admin') {
        adminUnitOptionsDiv.classList.add('show');
        adminOptionsDiv.classList.remove('show');
        userOptionsDiv.classList.remove('show');
        updateLogo('admin');
      } else {
        adminUnitOptionsDiv.classList.remove('show');
        adminOptionsDiv.classList.remove('show');
        userOptionsDiv.classList.add('show');
        updateLogo(loggedInUsername);
      }
    } else {
      loginForm.classList.remove('hidden');
      menuContainer.classList.remove('show');
      adminUnitOptionsDiv.classList.remove('show');
      adminOptionsDiv.classList.remove('show');
      userOptionsDiv.classList.remove('show');
      updateLogo(null);
    }

    function login() {
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const username = usernameInput.value;
      const password = passwordInput.value;

      if (users.hasOwnProperty(username) && users[username].password === password) {
        localStorage.setItem('loggedInUsername', username);
        loggedInUsername = username;
        loginForm.classList.add('hidden');
        menuContainer.classList.add('show');
        errorElement.classList.add('hidden');
        if (username === 'admin') {
          adminUnitOptionsDiv.classList.add('show');
          adminOptionsDiv.classList.remove('show');
          userOptionsDiv.classList.remove('show');
          updateLogo('admin');
        } else {
          adminUnitOptionsDiv.classList.remove('show');
          adminOptionsDiv.classList.remove('show');
          userOptionsDiv.classList.add('show');
          updateLogo(username);
        }
        comingSoonContainer.classList.remove('show');
      } else {
        errorElement.classList.remove('hidden');
        adminUnitOptionsDiv.classList.remove('show');
        adminOptionsDiv.classList.remove('show');
        userOptionsDiv.classList.remove('show');
        menuContainer.classList.remove('show');
        comingSoonContainer.classList.remove('show');
        updateLogo(null);
      }
    }

    function showAdminUnitOptions() {
      adminUnitOptionsDiv.classList.add('show');
      adminOptionsDiv.classList.remove('show');
      userOptionsDiv.classList.remove('show');
      comingSoonContainer.classList.remove('show');
      localStorage.removeItem('selectedUnit');
      selectedUnit = null;
      updateLogo('admin');
    }

    function showAdminOptions(unit) {
      localStorage.setItem('selectedUnit', unit);
      selectedUnit = unit;
      adminUnitOptionsDiv.classList.remove('show');
      adminOptionsDiv.classList.add('show');
      userOptionsDiv.classList.remove('show');
      comingSoonContainer.classList.remove('show');
      updateLogo(unit);
    }

    function showUserOptions(unit) {
      localStorage.setItem('selectedUnit', unit);
      selectedUnit = unit;
      adminUnitOptionsDiv.classList.remove('show');
      adminOptionsDiv.classList.remove('show');
      userOptionsDiv.classList.add('show');
      comingSoonContainer.classList.remove('show');
      updateLogo(loggedInUsername);
    }

    function goToPengecekan() {
      if (loggedInUsername) {
        let link = null;
        if (loggedInUsername === 'admin' && selectedUnit) {
          link = users[selectedUnit] ? users[selectedUnit].pengecekanLink : null;
        } else if (loggedInUsername !== 'admin') {
          link = users[loggedInUsername] ? users[loggedInUsername].pengecekanLink : null;
        }

        if (link) {
          window.location.href = link;
        } else {
          alert('Link Input Data Penggunaan tidak ditemukan.');
        }
      } else {
        alert('Anda belum login.');
      }
    }

    function showComingSoon(feature) {
      adminUnitOptionsDiv.classList.remove('show');
      adminOptionsDiv.classList.remove('show');
      userOptionsDiv.classList.remove('show');
      comingSoonContainer.classList.add('show');
      if (feature === 'standAwal') {
        comingSoonTextElement.textContent = 'Fitur Lihat Stand Awal - Coming Soon';
      } else if (feature === 'srBaru') {
        comingSoonTextElement.textContent = 'Fitur Penambahan SR Baru - Coming Soon';
      }
    }

    function hideComingSoon() {
      comingSoonContainer.classList.remove('show');
      if (loggedInUsername === 'admin') {
        adminUnitOptionsDiv.classList.remove('show');
        adminOptionsDiv.classList.add('show');
        userOptionsDiv.classList.remove('show');
        updateLogo(selectedUnit || 'admin');
      } else {
        adminUnitOptionsDiv.classList.remove('show');
        adminOptionsDiv.classList.remove('show');
        userOptionsDiv.classList.add('show');
        updateLogo(loggedInUsername);
      }
    }

    function logout() {
      localStorage.removeItem('loggedInUsername');
      localStorage.removeItem('selectedUnit');
      loggedInUsername = null;
      selectedUnit = null;
      menuContainer.classList.remove('show');
      adminUnitOptionsDiv.classList.remove('show');
      adminOptionsDiv.classList.remove('show');
      userOptionsDiv.classList.remove('show');
      comingSoonContainer.classList.remove('show');
      loginForm.classList.remove('hidden');
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
      updateLogo(null);
    }
  </script>
</body>
</html>
